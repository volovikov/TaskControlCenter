<!DOCTYPE html>
<html>
    <head>
        <title>Task Control Center</title>
        <meta charset="utf-8">
        <link href="static/css/kendo.common.min.css" rel="stylesheet">
        <link href="static/css/kendo.metro.min.css" rel="stylesheet">
        <link rel="icon" type="image/gif" href="favicon.gif" />
        <script src="static/js/common/lib/require.js"></script>
    </head>
    <body>
        <div id="main-page">
            <div id="preloader">
                <div id="status">&nbsp;</div>                    
            </div>
            <span id="notification" style="display:none;"></span>
            <script id="bad-template" type="text/x-kendo-template">
                <div class="bad-template-wrap">
                    <img src="static/img/error-icon.png" />
                    <i class="hide-notification k-icon k-i-close"></i>
                    <h3>#= title #</h3>
                    <p>#= message #</p>
                </div>
            </script>  
            <script id="good-template" type="text/x-kendo-template">
                <div class="good-template-wrap">
                    <img src="static/img/success-icon.png" />
                    <i class="hide-notification k-icon k-i-close"></i>
                    <h3>#= title #</h3>
                    <p>#= message #</p>
                </div>
            </script>
            
            <!-- placeholder -->
        </div>
        <script>
            require.config({
                paths: {
                    domReady: 'static/js/common/lib/domReady',
                    kendo: 'static/js/common/lib/kendo.all.min',
                    jquery: 'static/js/common/lib/jquery.min',
                    util: 'static/js/common/lib/util',
                    storage: 'static/js/common/lib/jquery.storageapi.min',
                    css: 'static/js/common/lib/css',
                    text: 'static/js/common/lib/text',
                    i18n: 'static/js/common/lib/i18n',
                    //socket: '/socket.io/socket.io'
                },
                waitSeconds: 0,
                i18n: {
                    locale: 'ru-ru'
                },                
                shim: {
                    kendo: {
                        deps: ['jquery'],
                        exports: 'kendo'
                    }
                }
            });  
            require(['domReady', 'static/js/app', 'static/js/settings'], function(domReady, app, settings) {
                domReady(function() {
                    window.app = app; // <-- app must be global
                    app.run(settings);
                });                
            });
        </script>
    </body>
</html>